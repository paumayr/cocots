var testlanguage;(function(n){var i=function(){function i(n){this.errDist=i.minErrDist,this.scanner=n,this.errors=new t}return i._EOF=0,i._ident=1,i._number=2,i._plus=3,i._minus=4,i._mult=5,i._div=6,i._lesser=7,i._greater=8,i._equals=9,i.maxT=12,i.T=!0,i.x=!1,i.minErrDist=2,i.prototype.SynErr=function(n){this.errDist>=i.minErrDist&&this.errors.SynErrPositioned(this.la.line,this.la.col,n),this.errDist=0},i.prototype.SemErr=function(n){this.errDist>=i.minErrDist&&this.errors.SemErrPositioned(this.t.line,this.t.col,n),this.errDist=0},i.prototype.Get=function(){for(;;){if(this.t=this.la,this.la=this.scanner.Scan(),this.la.kind<=i.maxT){this.errDist++;break}this.la=this.t}},i.prototype.Expect=function(n){this.la.kind==n?this.Get():this.SynErr(n)},i.prototype.StartOf=function(n){return i.stateset[n][this.la.kind]},i.prototype.ExpectWeak=function(n,t){if(this.la.kind==n)this.Get();else for(this.SynErr(n);!this.StartOf(t);)this.Get()},i.prototype.WeakSeparator=function(n,t,r){var u=this.la.kind;if(u==n)return this.Get(),!0;if(this.StartOf(r))return!1;for(this.SynErr(n);!(i.stateset[(t,u)]||i.stateset[(r,u)]||i.stateset[u]);)this.Get(),u=this.la.kind;return this.StartOf(t)},i.prototype.AddOp=function(){var n;return this.la.kind==3?(this.Get(),n.op="plus"):this.la.kind==4?(this.Get(),n.op="minus"):this.SynErr(13),n},i.prototype.MulOp=function(){var n;return this.la.kind==5?(this.Get(),n.op="mult"):this.la.kind==6?(this.Get(),n.op="div"):this.SynErr(14),n},i.prototype.RelOp=function(){var n;return this.la.kind==9?(this.Get(),n.op="equals"):this.la.kind==7?(this.Get(),n.op="lesser"):this.la.kind==8?(this.Get(),n.op="greater"):this.SynErr(15),n},i.prototype.Expr=function(){var n,i=this.SimExpr(),r,t;return n.expr=i,(this.la.kind==7||this.la.kind==8||this.la.kind==9)&&(r=this.RelOp(),t=this.SimExpr(),n.expr={left:n.expr,right:t.expr}),n},i.prototype.SimExpr=function(){var n,r=this.Term(),t,i;for(n.expr=r.expr;this.la.kind==3||this.la.kind==4;)t=this.AddOp(),i=this.Term(),n.expr={type:"binary",op:t.op,right:i.expr};return n},i.prototype.Factor=function(){var n,t,i;return this.la.kind==1?(t=this.Ident(),n.expr={type:"ident",ident:t.ident}):this.la.kind==2?(this.Get(),n.expr={type:"number",number:parseFloat(this.t.val)}):this.la.kind==4?(this.Get(),i=this.Factor(),n.expr={type:"negation",operand:i.expr}):this.la.kind==10?(this.Get(),n.expr={type:"boolean",value:!0}):this.la.kind==11?(this.Get(),n.expr={type:"boolean",value:!1}):this.SynErr(16),n},i.prototype.Ident=function(){var n;return this.Expect(1),n.ident=this.t.val,n},i.prototype.Term=function(){for(var n,r=this.Factor(),t,i;this.la.kind==5||this.la.kind==6;)t=this.MulOp(),i=this.Factor();return n},i.prototype.Test=function(){var n,t=this.Expr();return n},i.prototype.Parse=function(){this.la=new n.Token,this.la.val="",this.Get(),this.Test(),this.Expect(0)},i.stateset=[[!0,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]],i}(),t;n.Parser=i,t=function(){function n(){this.count=0}return n.prototype.Errors=function(n,t){this.errorStream=n,this.errMsgFormat=t},n.prototype.SynErrPositioned=function(n,t,i){var r;switch(i){case 0:r="EOF expected";break;case 1:r="ident expected";break;case 2:r="number expected";break;case 3:r="plus expected";break;case 4:r="minus expected";break;case 5:r="mult expected";break;case 6:r="div expected";break;case 7:r="lesser expected";break;case 8:r="greater expected";break;case 9:r="equals expected";break;case 10:r='"true" expected';break;case 11:r='"false" expected';break;case 12:r="??? expected";break;case 13:r="invalid AddOp";break;case 14:r="invalid MulOp";break;case 15:r="invalid RelOp";break;case 16:r="invalid Factor";break;default:r="error "+i}this.errorStream.WriteFormattedLine(this.errMsgFormat,n,t,r),this.count++},n.prototype.SemErrPositioned=function(n,t,i){this.errorStream.WriteFormattedLine(this.errMsgFormat,n,t,i),this.count++},n.prototype.SemErr=function(n){this.errorStream.WriteLine(n),this.count++},n.prototype.WarningPositioned=function(n,t,i){this.errorStream.WriteFormattedLine(this.errMsgFormat,n,t,i)},n.prototype.Warning=function(n){this.errorStream.WriteLine(n)},n}(),n.Errors=t})(testlanguage||(testlanguage={}))